@model ProductDetailDto

@if (Model.SizeOptions?.Any() == true)
{
    <div class="option-group size-options mb-3">
        <label class="fw-bold d-block mb-2">Size:</label>
        <div class="btn-group flex-wrap" role="group">
            @foreach (var opt in Model.SizeOptions)
            {
                <button type="button"
                        class="btn btn-outline-dark size-btn me-2 mb-2
                               @(opt.IsSelected ? "active" : "")
                               @(opt.IsAvailable ? "" : "disabled")"
                        data-sizeid="@opt.ValueId">
                    @opt.Value
                </button>
            }
        </div>
    </div>
}

@if (Model.FabricOptions?.Any() == true)
{
    <div class="option-group fabric-options mb-3">
        <label class="fw-bold d-block mb-2">Fabric:</label>
        <div class="d-flex flex-wrap gap-3" id="fabric-options-container">
            @foreach (var opt in Model.FabricOptions)
            {
                var isSelected = opt.IsSelected ? "selected" : "";
                <div class="fabric-thumb border rounded p-1 @(isSelected)"
                     data-fabricid="@opt.Id"
                     style="cursor: pointer; width: 120px; text-align: center;">
                    <img src="@($"{opt.Images?.FirstOrDefault()?.ImageUrl}?profile=basic")"
                         alt="@opt.Fabric"
                         class="img-thumbnail"
                         style="width: 100px; height: 100px; object-fit: cover;" />
                    <div class="small mt-1">
                        @opt.Fabric
                        @(opt.IsCustom ? $" (+${opt.CustomPrice:F2})" : "")
                    </div>
                </div>
            }
        </div>
    </div>
}

@if (Model.FinishOptions?.Any() == true)
{
    <div class="option-group finish-options mb-3">
        <label class="fw-bold d-block mb-2">Finish:</label>
        <div class="d-flex flex-wrap gap-3" id="finish-options-container">
            @foreach (var opt in Model.FinishOptions)
            {
                var isSelected = opt.IsSelected ? "selected" : "";
                <div class="finish-thumb border rounded p-1 @(isSelected)"
                     data-finishid="@opt.Id"
                     style="cursor: pointer; width: 120px; text-align: center;">
                    <img src="@($"{opt.Images?.FirstOrDefault()?.ImageUrl}?profile=basic")"
                         alt="@opt.Name"
                         class="img-thumbnail"
                         style="width: 100px; height: 100px; object-fit: cover;" />
                    <div class="small mt-1">@opt.Name</div>
                </div>
            }
        </div>
    </div>
}